diff -ur vcdimager-0.7.24.old/frontends/cli/vcd-info.c vcdimager-0.7.24/frontends/cli/vcd-info.c
--- vcdimager-0.7.24.old/frontends/cli/vcd-info.c	2018-12-01 15:19:44.820760892 -0500
+++ vcdimager-0.7.24/frontends/cli/vcd-info.c	2018-12-01 15:45:06.341820442 -0500
@@ -928,7 +928,7 @@
   CdioListNode_t *entnode;
   CdIo_t *cdio = vcdinfo_get_cd_image(obj);
 
-  entlist = iso9660_fs_readdir (cdio, pathname, true);
+  entlist = iso9660_fs_readdir (cdio, pathname);
     
   fprintf (stdout, " %s:\n", pathname);
 
@@ -971,7 +971,7 @@
 
     }
 
-  _cdio_list_free (entlist, true);
+  _cdio_list_free (entlist, true, &free);
 
   fprintf (stdout, "\n");
 
@@ -984,7 +984,7 @@
       _dump_fs_recurse (obj, _fullname);
     }
 
-  _cdio_list_free (dirlist, true);
+  _cdio_list_free (dirlist, true, &free);
 }
 
 static void
diff -ur vcdimager-0.7.24.old/frontends/xml/vcd_xml_build.c vcdimager-0.7.24/frontends/xml/vcd_xml_build.c
--- vcdimager-0.7.24.old/frontends/xml/vcd_xml_build.c	2018-12-01 15:19:44.821760869 -0500
+++ vcdimager-0.7.24/frontends/xml/vcd_xml_build.c	2018-12-01 15:35:09.029553385 -0500
@@ -499,10 +499,10 @@
 
   xmlFreeDoc (vcd_doc);
   free(gl.xml_fname);
-  _cdio_list_free (gl.img_options, true);
+  _cdio_list_free (gl.img_options, true, &free);
   return EXIT_SUCCESS;
  err_exit: 
   free(gl.xml_fname);
-  _cdio_list_free (gl.img_options, true);
+  _cdio_list_free (gl.img_options, true, &free);
   return EXIT_FAILURE;
 }
diff -ur vcdimager-0.7.24.old/frontends/xml/vcdxml.h vcdimager-0.7.24/frontends/xml/vcdxml.h
--- vcdimager-0.7.24.old/frontends/xml/vcdxml.h	2018-12-01 15:19:44.820760892 -0500
+++ vcdimager-0.7.24/frontends/xml/vcdxml.h	2018-12-01 15:34:13.357833611 -0500
@@ -151,8 +151,8 @@
 
   vcd_assert (p_vcdxml != NULL);
 
-  _cdio_list_free (p_vcdxml->option_list,   true);
-  _cdio_list_free (p_vcdxml->segment_list,  true);
+  _cdio_list_free (p_vcdxml->option_list,   true, &free);
+  _cdio_list_free (p_vcdxml->segment_list,  true, &free);
 
   _CDIO_LIST_FOREACH (p_node, p_vcdxml->pbc_list)
     {
@@ -172,8 +172,8 @@
 	  struct entry_point_t *p_entry = _cdio_list_node_data(p_node2);
 	  free(p_entry->id);
 	}
-      _cdio_list_free (p_sequence->entry_point_list, true);
-      _cdio_list_free (p_sequence->autopause_list, true);
+      _cdio_list_free (p_sequence->entry_point_list, true, &free);
+      _cdio_list_free (p_sequence->autopause_list, true, &free);
     }
   
   _CDIO_LIST_FOREACH (p_node, p_vcdxml->filesystem)
@@ -183,9 +183,9 @@
       free(p_fs->file_src);
     }
 
-  _cdio_list_free (p_vcdxml->filesystem,    true);
-  _cdio_list_free (p_vcdxml->pbc_list, true);
-  _cdio_list_free (p_vcdxml->sequence_list, true);
+  _cdio_list_free (p_vcdxml->filesystem,    true, &free);
+  _cdio_list_free (p_vcdxml->pbc_list, true, &free);
+  _cdio_list_free (p_vcdxml->sequence_list, true, &free);
   free (p_vcdxml->comment);
   free (p_vcdxml->info.album_id);
   free (p_vcdxml->pvd.volume_id);
diff -ur vcdimager-0.7.24.old/frontends/xml/vcd_xml_rip.c vcdimager-0.7.24/frontends/xml/vcd_xml_rip.c
--- vcdimager-0.7.24.old/frontends/xml/vcd_xml_rip.c	2018-12-01 15:19:44.821760869 -0500
+++ vcdimager-0.7.24/frontends/xml/vcd_xml_rip.c	2018-12-01 15:45:27.346337612 -0500
@@ -145,7 +145,7 @@
 _parse_isofs_r (vcdxml_t *p_vcdxml, CdIo_t *p_cdio, 
 		const char pathname[])
 { 
-  CdioList_t *entlist = iso9660_fs_readdir (p_cdio, pathname, true);
+  CdioList_t *entlist = iso9660_fs_readdir (p_cdio, pathname);
   CdioListNode_t *entnode;
 
   if (entlist == NULL)
@@ -184,7 +184,7 @@
       }
     }
 
-  _cdio_list_free (entlist, true);
+  _cdio_list_free (entlist, true, &free);
 
   return 0;
 }
@@ -837,7 +837,7 @@
   
   if (cdio_read_mode2_sectors (p_cdio, _pbc_ctx.lot, _lot_vcd_sector, false, 
 			       LOT_VCD_SIZE)) {
-    _cdio_list_free (_pbc_ctx.offset_list, true);
+    _cdio_list_free (_pbc_ctx.offset_list, true, &free);
     free(_pbc_ctx.lot);
     return -1;
   }
@@ -871,7 +871,7 @@
     }
 
  free_and_return:
-  _cdio_list_free (_pbc_ctx.offset_list, true);
+  _cdio_list_free (_pbc_ctx.offset_list, true, &free);
   free(_pbc_ctx.lot);
   free(_pbc_ctx.psd);
   return 0;
diff -ur vcdimager-0.7.24.old/lib/data_structures.c vcdimager-0.7.24/lib/data_structures.c
--- vcdimager-0.7.24.old/lib/data_structures.c	2018-12-01 15:19:44.815761006 -0500
+++ vcdimager-0.7.24/lib/data_structures.c	2018-12-01 15:41:16.504104101 -0500
@@ -180,7 +180,7 @@
   if (p_node->children)
     {
       vcd_assert (_cdio_list_length (p_node->children) == 0);
-      _cdio_list_free (p_node->children, true);
+      _cdio_list_free (p_node->children, true, &free);
       p_node->children = NULL;
     }
 
@@ -188,7 +188,7 @@
     free (_vcd_tree_node_set_data (p_node, NULL));
 
   if (p_node->parent)
-    _cdio_list_node_free (p_node->listnode, true);
+    _cdio_list_node_free (p_node->listnode, true, &free);
   else
     _vcd_tree_node_set_data (p_node, NULL);
 }
@@ -302,7 +302,7 @@
       VcdTreeNode_t  *treenode = _cdio_list_node_data (lastnode);
       VcdTreeNode_t  *childnode;
 
-      _cdio_list_node_free (lastnode, false);
+      _cdio_list_node_free (lastnode, false, &free);
 
       trav_func (treenode, p_user_data);
       
@@ -312,7 +312,7 @@
         }
     }
 
-  _cdio_list_free (queue, false);
+  _cdio_list_free (queue, false, &free);
 }
 
 VcdTreeNode_t *_vcd_tree_node_parent (VcdTreeNode_t *p_node)
diff -ur vcdimager-0.7.24.old/lib/dict.h vcdimager-0.7.24/lib/dict.h
--- vcdimager-0.7.24.old/lib/dict.h	2018-12-01 15:19:44.815761006 -0500
+++ vcdimager-0.7.24/lib/dict.h	2018-12-01 15:41:27.580849442 -0500
@@ -158,7 +158,7 @@
       free (p->key);
       free (p->buf);
 
-      _cdio_list_node_free (node, true);
+      _cdio_list_node_free (node, true, &free);
     }
 }
 
diff -ur vcdimager-0.7.24.old/lib/files.c vcdimager-0.7.24/lib/files.c
--- vcdimager-0.7.24.old/lib/files.c	2018-12-01 15:19:44.815761006 -0500
+++ vcdimager-0.7.24/lib/files.c	2018-12-01 15:29:30.969328165 -0500
@@ -712,7 +712,7 @@
 
   }
 
-  _cdio_list_free (p_all_aps, true);
+  _cdio_list_free (p_all_aps, true, &free);
 
   vcd_assert (scanpoints == _cdio_list_length (p_scantable));
 
@@ -754,7 +754,7 @@
 
   vcd_assert (n = _get_scanpoint_count (p_vcdobj));
 
-  _cdio_list_free (p_scantable, true);
+  _cdio_list_free (p_scantable, true, &free);
 }
 
 static uint32_t 
diff -ur vcdimager-0.7.24.old/lib/info.c vcdimager-0.7.24/lib/info.c
--- vcdimager-0.7.24.old/lib/info.c	2018-12-01 15:19:44.814761029 -0500
+++ vcdimager-0.7.24/lib/info.c	2018-12-01 15:44:38.082470048 -0500
@@ -106,7 +106,7 @@
 
   if (NULL == p_obj->seg_sizes || 0 == num_segments) return;
 
-  entlist = iso9660_fs_readdir(p_obj->img, "SEGMENT", true);
+  entlist = iso9660_fs_readdir(p_obj->img, "SEGMENT");
 
   i=0;
   _CDIO_LIST_FOREACH (entnode, entlist) {
@@ -141,7 +141,7 @@
     vcd_warn ("Number of segments found %d is not number of segments %d", 
               i, num_segments);
 
-  _cdio_list_free (entlist, true);
+  _cdio_list_free (entlist, true, &free);
 
   
 #if 0
@@ -1747,10 +1747,10 @@
 
   ret = vcdinf_visit_lot(&pbc_ctx);
   if (NULL != p_obj->offset_x_list) 
-    _cdio_list_free(p_obj->offset_x_list, true);
+    _cdio_list_free(p_obj->offset_x_list, true, &free);
   p_obj->offset_x_list = pbc_ctx.offset_x_list;
   if (NULL != p_obj->offset_list) 
-    _cdio_list_free(p_obj->offset_list, true);
+    _cdio_list_free(p_obj->offset_list, true, &free);
   p_obj->offset_list = pbc_ctx.offset_list;
   return ret;
 }
@@ -1944,7 +1944,7 @@
   switch (p_obj->vcd_type) {
   case VCD_TYPE_VCD2: {
     /* FIXME: Can reduce CD reads by using 
-       iso9660_fs_readdir(img, "EXT", true) and then scanning for
+       iso9660_fs_readdir(img, "EXT") and then scanning for
        the files listed below.
     */
     statbuf = iso9660_fs_stat (p_cdio, "EXT/PSD_X.VCD;1");
@@ -1985,7 +1985,7 @@
   case VCD_TYPE_SVCD: 
   case VCD_TYPE_HQVCD: {
     /* FIXME: Can reduce CD reads by using 
-       iso9660_fs_readdir(p_cdio, "SVCD", true) and then scanning for
+       iso9660_fs_readdir(p_cdio, "SVCD") and then scanning for
        the files listed below.
     */
     statbuf = iso9660_fs_stat (p_cdio, "MPEGAV");
@@ -2081,9 +2081,9 @@
 {
   if (p_obj != NULL) {
     if (p_obj->offset_list != NULL) 
-      _cdio_list_free(p_obj->offset_list, true);
+      _cdio_list_free(p_obj->offset_list, true, &free);
     if (p_obj->offset_x_list != NULL) 
-      _cdio_list_free(p_obj->offset_x_list, true);
+      _cdio_list_free(p_obj->offset_x_list, true, &free);
     free(p_obj->seg_sizes);
     free(p_obj->lot);
     free(p_obj->lot_x);
diff -ur vcdimager-0.7.24.old/lib/info_private.c vcdimager-0.7.24/lib/info_private.c
--- vcdimager-0.7.24.old/lib/info_private.c	2018-12-01 15:19:44.815761006 -0500
+++ vcdimager-0.7.24/lib/info_private.c	2018-12-01 15:31:53.459050935 -0500
@@ -110,7 +110,7 @@
           if (last_lid > max_seen_lid) max_seen_lid=last_lid;
         }
       }
-    _cdio_list_free(unused_lids, true);
+    _cdio_list_free(unused_lids, true, &free);
   }
 }
 
diff -ur vcdimager-0.7.24.old/lib/mpeg_stream.c vcdimager-0.7.24/lib/mpeg_stream.c
--- vcdimager-0.7.24.old/lib/mpeg_stream.c	2018-12-01 15:19:44.815761006 -0500
+++ vcdimager-0.7.24/lib/mpeg_stream.c	2018-12-01 15:32:10.807651943 -0500
@@ -84,7 +84,7 @@
 
   for (i = 0; i < 3; i++)
     if (obj->info.shdr[i].aps_list)
-      _cdio_list_free (obj->info.shdr[i].aps_list, true);
+      _cdio_list_free (obj->info.shdr[i].aps_list, true, &free);
 
   free (obj);
 }
diff -ur vcdimager-0.7.24.old/lib/pbc.c vcdimager-0.7.24/lib/pbc.c
--- vcdimager-0.7.24.old/lib/pbc.c	2018-12-01 15:19:44.813761052 -0500
+++ vcdimager-0.7.24/lib/pbc.c	2018-12-01 15:28:35.354607382 -0500
@@ -848,12 +848,12 @@
   switch (p_pbc->type)
     {
     case PBC_PLAYLIST:
-      _cdio_list_free (p_pbc->item_id_list, false);
+      _cdio_list_free (p_pbc->item_id_list, false, &free);
       break;
 
     case PBC_SELECTION:
-      _cdio_list_free (p_pbc->select_id_list, true);
-      _cdio_list_free (p_pbc->select_area_list, true);
+      _cdio_list_free (p_pbc->select_id_list, true, &free);
+      _cdio_list_free (p_pbc->select_area_list, true, &free);
       break;
       
     case PBC_END:
diff -ur vcdimager-0.7.24.old/lib/vcd.c vcdimager-0.7.24/lib/vcd.c
--- vcdimager-0.7.24.old/lib/vcd.c	2018-12-01 15:19:44.815761006 -0500
+++ vcdimager-0.7.24/lib/vcd.c	2018-12-01 15:41:42.133514877 -0500
@@ -355,7 +355,7 @@
   p_vcdobj->relative_end_extent -= length;
 
   /* shift up */
-  _cdio_list_node_free (node, true);
+  _cdio_list_node_free (node, true, &free);
 }
 
 int
@@ -708,13 +708,13 @@
       free (p->iso_pathname);
     }
 
-  _cdio_list_free (p_obj->custom_file_list, true);
+  _cdio_list_free (p_obj->custom_file_list, true, &free);
 
-  _cdio_list_free (p_obj->custom_dir_list, true);
+  _cdio_list_free (p_obj->custom_dir_list, true, &free);
 
   while (_cdio_list_length (p_obj->mpeg_sequence_list))
     _vcd_obj_remove_mpeg_track (p_obj, 0);
-  _cdio_list_free (p_obj->mpeg_sequence_list, true);
+  _cdio_list_free (p_obj->mpeg_sequence_list, true, &free);
 
   free (p_obj);
 }
@@ -2248,7 +2248,7 @@
   _vcd_salloc_destroy (p_obj->iso_bitmap);
 
   _dict_clean (p_obj);
-  _cdio_list_free (p_obj->buffer_dict_list, true);
+  _cdio_list_free (p_obj->buffer_dict_list, true, &free);
 }
 
 int
@@ -2348,7 +2348,7 @@
 
     vcd_image_sink_set_cuesheet (p_image_sink, p_cue_list);
 
-    _cdio_list_free (p_cue_list, true);
+    _cdio_list_free (p_cue_list, true, &free);
   }
 
   /* and now for the pay load */
