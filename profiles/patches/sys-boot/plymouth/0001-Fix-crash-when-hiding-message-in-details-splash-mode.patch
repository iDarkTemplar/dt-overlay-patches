From fc23b7de7b2f45748cddcf5ca7ca1a164962acff Mon Sep 17 00:00:00 2001
From: "i.Dark_Templar" <darktemplar@dark-templar-archives.net>
Date: Mon, 13 Sep 2021 21:43:44 +0300
Subject: [PATCH] Fix crash when hiding message in details splash mode

---
 src/main.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/src/main.c b/src/main.c
index acff2f2..2d18f66 100644
--- a/src/main.c
+++ b/src/main.c
@@ -588,7 +588,9 @@ on_hide_message (state_t    *state,
                 if (strcmp (list_message, message) == 0) {
                         free (list_message);
                         ply_list_remove_node (state->messages, node);
-                        ply_boot_splash_hide_message (state->boot_splash, message);
+                        if (state->boot_splash != NULL) {
+                            ply_boot_splash_hide_message (state->boot_splash, message);
+                        }
                 }
                 node = next_node;
         }
-- 
2.32.0

